<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-9000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw = 0;
alarm[0] = 150;
titlealpha = 0.8;
//sound_volume(FarthestOutpost, 0.25);
//sound_loop(FarthestOutpost);
transition_kind = 0;

global.debug = false;
global.WARNING = false;
global.gameName = "FLEETCOM";
global.playerside = UNSC;
global.sfx = false;
global.selection_manager = noone;
global.ui_controller = noone;
global.save_manager = noone;
global.fx_control = noone;

savebox_padding = 32;
savebox_height = 64;
savebox_width = 600;
savebox_text_padding = 12;
savebox_padding_from_title = 64;
savebox_text_scale = 0.6;
savebox_text_spacing = 12;

mouseover_savebox = -1;
delete_savebox = -1;

ships_to_spawn = ds_list_create();
spawn_timer = 0;
spawn_timer_max = 10;
spawn_border = 32;

randomize();

//font_replace(Halo,"Halo3.ttf",12,0,0,32,127);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ds_list_destroy(ships_to_spawn);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// when active, disable changing game slot selection
// and if delete is confirmed delete the game slot

// if the timer runs out, reset
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw = 2;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw = 1;
alarm[1] = 150;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (draw == 0) {
    titlealpha = titlealpha - 0.005;
} else if (draw == 3 &amp;&amp; !ds_list_empty(ships_to_spawn)) {
    spawn_timer++;
    if (spawn_timer &gt;= spawn_timer_max) {
        spawn_timer = 0;
        var shipid = instance_create(irandom_range(spawn_border,room_width-spawn_border), irandom_range(spawn_border,room_height-spawn_border), shiptype_to_objectindex(ships_to_spawn[| 0]));
        ds_list_delete(ships_to_spawn, 0);
        with (shipid) {
            side = UNSC;
            moveTo(id, room_width + 1000, y);
        
            createShipWarpTrail(id, 5, 0.5, 0.5);
        }
    }
}

var draw_y = room_height/2 + savebox_padding_from_title;
if (alarm[2] == -1) {
    for (var i = 0; i &lt; SAVE_SLOT_COUNT; i++) {
    
        if (mouse_x &lt;= room_width/2 + savebox_width/2 &amp;&amp;
            mouse_x &gt;= room_width/2 - savebox_width/2 &amp;&amp;
            mouse_y &gt;= draw_y + savebox_padding &amp;&amp;
            mouse_y &lt;= draw_y + savebox_padding + savebox_height) {
    
            mouseover_savebox = i;
        }
            
        draw_y += savebox_padding + savebox_height;
    }
}
    
with (oallcapitalships) {
    if (x &gt; room_width) {
        x = 0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch(draw) {
    case 0:
        alarm[0] = 1;
        break;
    case 1:
        alarm[1] = 1;
        break;
    case 2:
        if (mouseover_savebox != -1) {
            var selfid = id;
            with (global.save_manager) {
                if (mission_preview[| selfid.mouseover_savebox] != -1) {
                    loadSave(selfid.mouseover_savebox);
                } else {
                    newSave(selfid.mouseover_savebox);
                }
            }
            ds_list_copy(ships_to_spawn, global.save_manager.ship_type);
            draw = 3;
        }
        break;
    case 3:
        //TODO proceed, cancel, and delete options
        sound_stop(FarthestOutpost);
        with (oscroll) {
            screen_locked = false;
        }
        if (global.save_manager.mission == 0) {
            room_goto(Tutorial);
        } else if (global.save_manager.mission == 1) {
            with (instance_create(0,0,oTutorialHelper)) {
                tutorial_step = 7;
            }
            with (oscroll) {
                screen_locked = false;
            }
            room_goto(MissionMenu);
        } else {
            room_goto(MissionMenu);
        }
        break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(Halo);
draw_set_halign(fa_center);

switch (draw) {
    case 0:
        draw_text_transformed_color(
            room_width/2, 
            room_height/3, 
            global.gameName, 
            2, 
            1.5, 
            0, 
            14145495, 
            14145495, 
            5131854, 
            5131854, 
            titlealpha);
        break;
    
    case 1:
        draw_text_transformed_color(
            room_width/2, 
            room_height/2, 
            global.gameName + " was created under Microsoft's#Game Content Usage Rules using assets from#Halo CE, Halo 2, Halo 3, Halo ODST, and Halo Reach,#ï¿½ Copyright Microsoft Corporation.#http://www.xbox.com/en-us/developers/rules", 
            1, 
            1, 
            0, 
            12632256, 
            12632256, 
            12632256, 
            12632256, 
            1);
        break;
        
    case 2:
        draw_text_transformed_color(
            room_width/2, 
            room_height/3, 
            global.gameName, 
            2, 
            1.5, 
            0, 
            14145495, 
            14145495, 
            5131854, 
            5131854, 
            1);
    
        draw_text_transformed_color(
            room_width/2, 
            room_height/2, 
            "Select Save Slot", 
            1, 
            1, 
            0, 
            12632256, 
            12632256, 
            12632256, 
            12632256, 
            1);
        
        draw_set_halign(fa_left);
        var draw_y = room_height/2 + savebox_padding_from_title;
        for (var i = 0; i &lt; SAVE_SLOT_COUNT; i++) {
            draw_set_alpha(GUI_ALPHA);
            draw_set_color(c_gray);
            draw_rectangle(room_width/2 - savebox_width/2, 
                draw_y + savebox_padding,
                room_width/2 + savebox_width/2,
                draw_y + savebox_padding + savebox_height,
                false);
            
            draw_set_color(c_white);
            var mission = global.save_manager.mission_preview[| i];
            var credits = global.save_manager.credits_preview[| i];
            var ship_count = global.save_manager.ship_count_preview[| i];
            if (alarm[2] &gt; -1 &amp;&amp; delete_savebox == i) {
                draw_text_ext_transformed(room_width/2 - savebox_width/2 + savebox_text_padding,
                    draw_y + savebox_padding + savebox_text_padding,
                    "CONFIRM DELETE? - Reverting in ... " + string(ceil(alarm[2]/STEPS_PER_SECOND)),
                    savebox_text_spacing,
                    (savebox_width - 2*savebox_text_padding) * 1/savebox_text_scale,
                    savebox_text_scale,
                    savebox_text_scale,
                    0);
            } else {            
                if (mission == -1) {
                    draw_text_ext_transformed(room_width/2 - savebox_width/2 + savebox_text_padding,
                        draw_y + savebox_padding + savebox_text_padding,
                        "EMPTY SLOT",
                        savebox_text_spacing,
                        (savebox_width - 2*savebox_text_padding) * 1/savebox_text_scale,
                        savebox_text_scale,
                        savebox_text_scale,
                        0);
                } else {
                    draw_text_ext_transformed(room_width/2 - savebox_width/2 + savebox_text_padding,
                        draw_y + savebox_padding + savebox_text_padding,
                        "MISSION: " + string(mission) + " CREDITS: " + string(credits) + " FLEET SIZE: " + string(ship_count),
                        savebox_text_spacing,
                        (savebox_width - 2*savebox_text_padding) * 1/savebox_text_scale,
                        savebox_text_scale,
                        savebox_text_scale,
                        0);
                }
            }
                
            draw_set_alpha(1);
            if (mouseover_savebox == i) {
                draw_set_color(c_white);
            } else {
                draw_set_color(c_blue);
            }
            draw_rectangle(room_width/2 - savebox_width/2, 
                draw_y + savebox_padding,
                room_width/2 + savebox_width/2,
                draw_y + savebox_padding + savebox_height,
                true);
            draw_y += savebox_padding + savebox_height;
        }
        break;
        
    case 3:
        draw_text_transformed_color(
            room_width/2, 
            room_height/3, 
            global.gameName, 
            2, 
            1.5, 
            0, 
            14145495, 
            14145495, 
            5131854, 
            5131854, 
            1);
    
        draw_text_transformed_color(
            room_width/2, 
            room_height/2, 
            "Click to Proceed", 
            1, 
            1, 
            0, 
            12632256, 
            12632256, 
            12632256, 
            12632256, 
            1);
        break;
}

draw_set_halign(-1);
draw_set_font(-1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="46">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alarm[2] &gt; -1) {
    global.save_manager.mission_preview[| mouseover_savebox] = -1;
    delete_savebox = -1;
    alarm[2] = -1;
    deleteSave(mouseover_savebox);
} else {
    if (mouseover_savebox != -1 &amp;&amp; global.save_manager.mission_preview[| mouseover_savebox] != -1) {
        alarm[2] = 3 * STEPS_PER_SECOND;
        delete_savebox = mouseover_savebox;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alarm[2] == -1) {
    mouseover_savebox++;
    if (mouseover_savebox &gt;= SAVE_SLOT_COUNT) {
        mouseover_savebox = 0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alarm[2] == -1) {
    mouseover_savebox--;
    if (mouseover_savebox &lt; 0) {
        mouseover_savebox = SAVE_SLOT_COUNT-1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
